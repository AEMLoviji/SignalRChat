@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <div class="col-md-12">
        <h2>Welcome!</h2>
        <p>
            It is a chat application. Application was created by using ASP.NET MVC5 and SignalR.
        </p>
        <p>
            @Html.ActionLink("Enter to Chat (Hub Model)", "HubChat", "Home")
        </p>
        <p>
            @Html.ActionLink("Enter to Chat (Persistent Model)", "PersistentChat", "Home")
        </p>

        <ul id="push-notification-list" class="list-group"></ul>
    </div>
</div>

@section scripts{
    <script src="@Url.Content("~/Scripts/jquery.signalR-2.4.0.min.js")"></script>
    <!-- It is a link to script which will be automatically generated by SignalR Hub defined in application -->
    <script src="@Url.Content("~/signalr/hubs")"></script>

    <script type="text/javascript">
        $(function () {
            var pushHub = $.connection.pushHub;

            pushHub.client.showPushNotification = function (message) {

                $('#push-notification-list')
                    .append('<li class="list-group-item">' + message + '</li>');
            };

            $.connection.hub.start();
        });
    </script>
}
